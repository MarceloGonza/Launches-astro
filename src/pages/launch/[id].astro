---
import Layout from "../../layouts/Layout.astro";
import { getLatestLaunches, getLaunchBy } from "../../services/spacex"

const { id } = Astro.params

console.log({ id })

let launch
if(id){
    launch = await getLaunchBy({ id })
}

export async function getStaticPaths() {
    //llamar a la api para que genere los id

    const launches = await getLatestLaunches()

    return launches.map((launch) => ({
        params: { id: launch.id },
    }))

}

console.log(launch)
---
<Layout title={`Lanzamiento ${id}`}>
    <article>
        {launch?.id}
    </article>
</Layout>